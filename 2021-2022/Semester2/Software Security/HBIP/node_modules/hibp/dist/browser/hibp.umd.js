function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(t,e){if("function"==typeof define&&define.amd)define("hibp",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var r={exports:{}};e(r.exports),t.hibp=r.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(e){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(n=(u=s.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);e>r;r++)n[r]=t[r];return n}function o(t,e){for(var r=0;e.length>r;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}Object.defineProperty(e,"__esModule",{value:!0}),e.breach=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w("/breach/".concat(encodeURIComponent(t)),e)},e.breachedAccount=U,e.breaches=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="/breaches?",r=[];t.domain&&r.push("domain=".concat(encodeURIComponent(t.domain)));return w("".concat(e).concat(r.join("&")),{baseUrl:t.baseUrl,userAgent:t.userAgent})},e.dataClasses=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w("/dataclasses",t)},e.pasteAccount=E,e.pwnedPassword=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new x("SHA-1","TEXT");r.update(t);var n=r.getHash("HEX",{outputUpper:!0}),o=n.slice(0,5),i=n.slice(5);return _(o,e).then((function(t){return t[i]||0}))},e.pwnedPasswordRange=_,e.search=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{truncate:!0},r=e.apiKey,n=e.baseUrl,o=e.userAgent;return Promise.all([U(t,e),/^.+@.+$/.test(t)?E(t,{apiKey:r,baseUrl:n,userAgent:o}):null]).then((function(t){return{breaches:t[0],pastes:t[1]}}))};var h=f(Object.freeze({__proto__:null,default:function(t,e){return e=e||{},new Promise((function(r,n){var o=new XMLHttpRequest,i=[],u=[],s={};for(var a in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,r){i.push(e=e.toLowerCase()),u.push([e,r]),s[e]=s[e]?s[e]+","+r:r})),r(function t(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:t,headers:{keys:function(){return i},entries:function(){return u},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}}())},o.onerror=n,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(a,e.headers[a]);o.send(e.body||null)}))}})),l=self.fetch||(self.fetch=h.default||h),p=(new Map,400),d="Bad request â€” the account does not comply with an acceptable format.",v=401,y=403,b="Forbidden - access denied.",g=404,m=429;function A(t){return"Request blocked, contact haveibeenpwned.com if this continues (Ray ID: ".concat(t,")")}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.apiKey,n=e.baseUrl,o=void 0===n?"https://haveibeenpwned.com/api/v3":n,i=e.userAgent,u={};r&&(u["HIBP-API-Key"]=r),i&&(u["User-Agent"]=i),i||"undefined"!=typeof navigator||(u["User-Agent"]="".concat("hibp"," ").concat("11.0.0"));var s={headers:u},a="".concat(o.replace(/\/$/g,"")).concat(t);return l(a,s).then((function(t){if(t.ok)return t.json();switch(t.status){case p:throw Error(d);case v:return t.json().then((function(t){throw Error(t.message)}));case y:var e=t.headers.get("cf-ray");if(e)throw Error(A(e));throw Error(b);case g:return null;case m:return t.json().then((function(t){throw Error(t.message)}));default:throw Error(t.statusText)}}))}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeUnverified:!0,truncate:!0},r="/breachedaccount/".concat(encodeURIComponent(t),"?"),n=[];return e.domain&&n.push("domain=".concat(encodeURIComponent(e.domain))),!1===e.includeUnverified&&n.push("includeUnverified=false"),!1===e.truncate&&n.push("truncateResponse=false"),w("".concat(r).concat(n.join("&")),{apiKey:e.apiKey,baseUrl:e.baseUrl,userAgent:e.userAgent})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w("/pasteaccount/".concat(encodeURIComponent(t)),{apiKey:e.apiKey,baseUrl:e.baseUrl,userAgent:e.userAgent})}var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function T(t,e,r,n){var o,i,u,s=e||[0],a=(r=r||0)>>>3,c=-1===n?3:0;for(o=0;t.length>o;o+=1)(i=(u=o+a)>>>2)>=s.length&&s.push(0),s[i]|=t[o]<<8*(c+n*(u%4));return{value:s,binLen:8*t.length+r}}function C(t,e,r){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(t){case"HEX":return function(t,e,n){return function(t,e,r,n){var o,i,u,s;if(0!=t.length%2)throw Error("String of HEX type must be in byte increments");var a=e||[0],c=(r=r||0)>>>3,f=-1===n?3:0;for(o=0;t.length>o;o+=2){if(i=parseInt(t.substr(o,2),16),isNaN(i))throw Error("String of HEX type contains invalid characters");for(u=(s=(o>>>1)+c)>>>2;u>=a.length;)a.push(0);a[u]|=i<<8*(f+n*(s%4))}return{value:a,binLen:4*t.length+r}}(t,e,n,r)};case"TEXT":return function(t,n,o){return function(t,e,r,n,o){var i,u,s,a,c,f,h,l,p=0,d=r||[0],v=(n=n||0)>>>3;if("UTF8"===e)for(h=-1===o?3:0,s=0;t.length>s;s+=1)for(u=[],128>(i=t.charCodeAt(s))?u.push(i):2048>i?(u.push(192|i>>>6),u.push(128|63&i)):55296>i||i>=57344?u.push(224|i>>>12,128|i>>>6&63,128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(s+=1)),u.push(240|i>>>18,128|i>>>12&63,128|i>>>6&63,128|63&i)),a=0;u.length>a;a+=1){for(c=(f=p+v)>>>2;c>=d.length;)d.push(0);d[c]|=u[a]<<8*(h+o*(f%4)),p+=1}else for(h=-1===o?2:0,l="UTF16LE"===e&&1!==o||"UTF16LE"!==e&&1===o,s=0;t.length>s;s+=1){for(i=t.charCodeAt(s),!0===l&&(i=(a=255&i)<<8|i>>>8),c=(f=p+v)>>>2;c>=d.length;)d.push(0);d[c]|=i<<8*(h+o*(f%4)),p+=2}return{value:d,binLen:8*p+n}}(t,e,n,o,r)};case"B64":return function(t,e,n){return function(t,e,r,n){var o,i,u,s,a,c,f=0,h=e||[0],l=(r=r||0)>>>3,p=-1===n?3:0,d=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==d&&t.length>d)throw Error("Invalid '=' found in base-64 string");for(o=0;t.length>o;o+=4){for(s=t.substr(o,4),u=0,i=0;s.length>i;i+=1)u|=R.indexOf(s.charAt(i))<<18-6*i;for(i=0;s.length-1>i;i+=1){for(a=(c=f+l)>>>2;a>=h.length;)h.push(0);h[a]|=(u>>>16-8*i&255)<<8*(p+n*(c%4)),f+=1}}return{value:h,binLen:8*f+r}}(t,e,n,r)};case"BYTES":return function(t,e,n){return function(t,e,r,n){var o,i,u,s,a=e||[0],c=(r=r||0)>>>3,f=-1===n?3:0;for(i=0;t.length>i;i+=1)o=t.charCodeAt(i),(u=(s=i+c)>>>2)>=a.length&&a.push(0),a[u]|=o<<8*(f+n*(s%4));return{value:a,binLen:8*t.length+r}}(t,e,n,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}return function(t,e,n){return function(t,e,r,n){return T(new Uint8Array(t),e,r,n)}(t,e,n,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw Error("UINT8ARRAY not supported by this environment")}return function(t,e,n){return T(t,e,n,r)};default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function F(t,e,r,n){switch(t){case"HEX":return function(t){return function(t,e,r,n){var o,i,u="",s=e/8,a=-1===r?3:0;for(o=0;s>o;o+=1)u+="0123456789abcdef".charAt((i=t[o>>>2]>>>8*(a+r*(o%4)))>>>4&15)+"0123456789abcdef".charAt(15&i);return n.outputUpper?u.toUpperCase():u}(t,e,r,n)};case"B64":return function(t){return function(t,e,r,n){var o,i,u,s="",a=e/8,c=-1===r?3:0;for(o=0;a>o;o+=3)for(u=(t[o>>>2]>>>8*(c+r*(o%4))&255)<<16|((a>o+1?t[o+1>>>2]:0)>>>8*(c+r*((o+1)%4))&255)<<8|(a>o+2?t[o+2>>>2]:0)>>>8*(c+r*((o+2)%4))&255,i=0;4>i;i+=1)s+=8*o+6*i>e?n.b64Pad:R.charAt(u>>>6*(3-i)&63);return s}(t,e,r,n)};case"BYTES":return function(t){return function(t,e,r){var n,o="",i=e/8,u=-1===r?3:0;for(n=0;i>n;n+=1)o+=String.fromCharCode(t[n>>>2]>>>8*(u+r*(n%4))&255);return o}(t,e,r)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(t){throw Error("ARRAYBUFFER not supported by this environment")}return function(t){return function(t,e,r){var n,o=e/8,i=new ArrayBuffer(o),u=new Uint8Array(i),s=-1===r?3:0;for(n=0;o>n;n+=1)u[n]=t[n>>>2]>>>8*(s+r*(n%4))&255;return i}(t,e,r)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(t){throw Error("UINT8ARRAY not supported by this environment")}return function(t){return function(t,e,r){var n,o=e/8,i=-1===r?3:0,u=new Uint8Array(o);for(n=0;o>n;n+=1)u[n]=t[n>>>2]>>>8*(i+r*(n%4))&255;return u}(t,e,r)};default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function L(t){var e={outputUpper:!1,b64Pad:"=",outputLen:-1},r=t||{},n="Output length must be a multiple of 8";if(e.outputUpper=r.outputUpper||!1,r.b64Pad&&(e.b64Pad=r.b64Pad),r.outputLen){if(r.outputLen%8!=0)throw Error(n);e.outputLen=r.outputLen}else if(r.shakeLen){if(r.shakeLen%8!=0)throw Error(n);e.outputLen=r.shakeLen}if("boolean"!=typeof e.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw Error("Invalid b64Pad formatting option");return e}function I(t,e){return t<<e|t>>>32-e}function B(t,e,r){return t^e^r}function O(t,e,r){return t&e^t&r^e&r}function H(t,e){var r=(65535&t)+(65535&e);return(65535&(t>>>16)+(e>>>16)+(r>>>16))<<16|65535&r}function P(t,e,r,n,o){var i=(65535&t)+(65535&e)+(65535&r)+(65535&n)+(65535&o);return(65535&(t>>>16)+(e>>>16)+(r>>>16)+(n>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function S(t){return[1732584193,4023233417,2562383102,271733878,3285377520]}function j(t,e){var r,n,o,i,u,s,a,c,f=[];for(r=e[0],n=e[1],o=e[2],i=e[3],u=e[4],a=0;80>a;a+=1)f[a]=16>a?t[a]:I(f[a-3]^f[a-8]^f[a-14]^f[a-16],1),s=20>a?P(I(r,5),(c=n)&o^~c&i,u,1518500249,f[a]):40>a?P(I(r,5),B(n,o,i),u,1859775393,f[a]):60>a?P(I(r,5),O(n,o,i),u,2400959708,f[a]):P(I(r,5),B(n,o,i),u,3395469782,f[a]),u=i,i=o,o=I(n,30),n=r,r=s;return e[0]=H(r,e[0]),e[1]=H(n,e[1]),e[2]=H(o,e[2]),e[3]=H(i,e[3]),e[4]=H(u,e[4]),e}function k(t,e,r,n){for(var o,i=15+(e+65>>>9<<4),u=e+r;i>=t.length;)t.push(0);for(t[e>>>5]|=128<<24-e%32,t[i]=4294967295&u,t[i-1]=u/4294967296|0,o=0;t.length>o;o+=16)n=j(t.slice(o,o+16),n);return n}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(r,t);var e=s(r);function r(t,n,o){var u;if(i(this,r),"SHA-1"!==t)throw Error("Chosen SHA variant is not supported");var s=o||{};return(u=e.call(this,t,n,o)).L=!0,u.Y=u.N,u.v=-1,u.T=C(u.t,u.i,u.v),u.m=j,u.C=function(t){return t.slice()},u.I=S,u.H=k,u.F=[1732584193,4023233417,2562383102,271733878,3285377520],u.U=512,u.g=160,u.B=!1,s.hmacKey&&u.M(function(t,e,r,n){var o="hmacKey must include a value and format";if(!e)throw Error(o);if(void 0===e.value||!e.format)throw Error(o);return C(e.format,e.encoding||"UTF8",r)(e.value)}(0,s.hmacKey,u.v)),u}return r}(function(){function t(e,r,n){i(this,t);var o=n||{};if(this.t=r,this.i=o.encoding||"UTF8",this.numRounds=o.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw Error("numRounds must a integer >= 1");this.s=e,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.p=[],this.R=[]}var e,r,n;return e=t,(r=[{key:"update",value:function(t){var e,r=0,n=this.U>>>5,o=this.T(t,this.o,this.h),i=o.binLen,u=o.value,s=i>>>5;for(e=0;s>e;e+=n)i>=r+this.U&&(this.F=this.m(u.slice(e,e+n),this.F),r+=this.U);this.l+=r,this.o=u.slice(r>>>5),this.h=i%this.U,this.u=!0}},{key:"getHash",value:function(t,e){var r,n,o=this.g,i=L(e);if(this.B){if(-1===i.outputLen)throw Error("Output length must be specified in options");o=i.outputLen}var u=F(t,o,this.v,i);if(this.A&&this.Y)return u(this.Y(i));for(n=this.H(this.o.slice(),this.h,this.l,this.C(this.F),o),r=1;this.numRounds>r;r+=1)this.B&&o%32!=0&&(n[n.length-1]&=16777215>>>24-o%32),n=this.H(n,o,0,this.I(this.s),o);return u(n)}},{key:"setHMACKey",value:function(t,e,r){if(!this.L)throw Error("Variant does not support HMAC");if(this.u)throw Error("Cannot set MAC key after calling update");var n=C(e,(r||{}).encoding||"UTF8",this.v);this.M(n(t))}},{key:"M",value:function(t){var e,r=this.U>>>3,n=r/4-1;if(1!==this.numRounds)throw Error("Cannot set numRounds with MAC");if(this.A)throw Error("MAC key already set");for(t.binLen/8>r&&(t.value=this.H(t.value,t.binLen,0,this.I(this.s),this.g));n>=t.value.length;)t.value.push(0);for(e=0;n>=e;e+=1)this.p[e]=909522486^t.value[e],this.R[e]=1549556828^t.value[e];this.F=this.m(this.p,this.F),this.l=this.U,this.A=!0}},{key:"getHMAC",value:function(t,e){var r=L(e);return F(t,this.g,this.v,r)(this.N())}},{key:"N",value:function(){var t;if(!this.A)throw Error("Cannot call getHMAC without first setting MAC key");var e=this.H(this.o.slice(),this.h,this.l,this.C(this.F),this.g);return t=this.m(this.R,this.I(this.s)),t=this.H(e,this.g,this.U,t,this.g)}}])&&o(e.prototype,r),n&&o(e,n),t}()),Y=400;function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.baseUrl,n=void 0===r?"https://api.pwnedpasswords.com":r,o=e.userAgent,i=Object.assign({},o?{headers:{"User-Agent":o}}:{}),u="".concat(n.replace(/\/$/g,"")).concat(t);return l(u,i).then((function(t){if(t.ok)return t.text();if(t.status===Y)return t.text().then((function(t){throw Error(t)}));throw Error(t.statusText)}))}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M("/range/".concat(encodeURIComponent(t)),e).then((function(t){return t.split("\n")})).then((function(t){return t.reduce((function(t,e){var n=r(e.split(":"),2);return t[n[0]]=parseInt(n[1],10),t}),{})}))}}));
//# sourceMappingURL=hibp.umd.js.map
